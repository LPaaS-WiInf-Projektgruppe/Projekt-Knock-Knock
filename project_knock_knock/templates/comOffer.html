
<meta content="width=device-width, initial-scale=1" name="viewport" />

{% extends 'flask_user/_public_base.html' %}

{% block extra_css %}

<link href="{{url_for('static', filename='comOffer__style.css')}}" rel="stylesheet" type="text/css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-sidebar/3.3.2/jquery.sidebar.min.js"></script>

<style media="screen">
  p
  {
    color: white;
  }
</style>

{% endblock %}

{% block content %}

<br>

<div>
  <h1>
      Angebote von Unternehmen:
  </h1>

<br>

  <table class="Table">
      <tr>
        <!-- <th style="width:50px;"> ID </th> -->
        <th style=> von </th>
        <th style=> nach </th>
        <th style=> gewünschte Zeit </th>
        <!-- TODO: absolutpreis automatisch berechnen und angeben -->
        <th style=> Kilometerpreis </th>
        <th> Aktionen </th>
      </tr>
      {% for comOffer in allComOffers %}
        <tr>
          <!-- <td>{{ comOffer.id }}</td> -->
          <td>{{ comOffer.start }}</td>
          <td>{{ comOffer.destination }}</td>
          <td>{{ comOffer.start_time}}</td>
          <td>{{ comOffer.kilometerpreis }} Euro</td>
          <td>
            <a href="/deleteComOffer/{{comOffer.id}}">Löschen</a>
            <br>
            <a href = "/com_offer_detail/{{comOffer.id}}">Details</a>
          </td>
        </tr>
        {% endfor %}
  </table>

  <br>
  <br>
  <p>
    Nichts passendes gefunden? Dann kannst du hier ein entsprechendes Gesuch einstellen!
  </p>
  <br>
  <form method ="POST" action="/comOffer">
          {{ form.csrf_token }}
          {{ form.von.label }}
          {{ form.von }}
          <br>
          {% for error in form.von.errors %}
            <p style="color: red;"> {{ error }} </p> <br>
          {% endfor %}
          <br>

          {{ form.nach.label }}
          {{ form.nach }}
          <br>
          {% for error in form.nach.errors %}
            <p style="color: red;"> {{ error }} </p> <br>
          {% endfor %}
          <br>

          {{ form.zeit_start.label }}
          {{ form.zeit_start }}
          <br>
          {% for error in form.zeit_start.errors %}
            <p style="color: red;"> {{ error }} </p> <br>
          {% endfor %}
          <br>

          {{ form.zeit_ende.label }}
          {{ form.zeit_ende }}
          <br>
          {% for error in form.zeit_ende.errors %}
            <p style="color: red;"> {{ error }} </p> <br>
          {% endfor %}
          <br>

          {{ form.geld.label }}
          {{ form.geld }}
          <br>
          {% for error in form.geld.errors %}
            <p style="color: red;"> {{ error }} </p> <br>
          {% endfor %}
          <br>

          {{ form.dauer.label }}
          {{ form.dauer }}
          <br>
          {% for error in form.dauer.errors %}
            <p style="color: red;"> {{ error }} </p> <br>
          {% endfor %}
          <br>

          {{ form.submit(id='create-save-offer') }}
       </form>

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-sidebar/3.3.2/jquery.sidebar.min.js"></script>

<script type=text/javascript src="{{url_for('static', filename='comOffer__script.js') }}"></script>

{% endblock %}
